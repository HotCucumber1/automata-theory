digraph SimpleMooreMachine {
    rankdir=LR;  // Left to Right layout
    size="8,5";

    // Состояния с выходами (формат: State [label="StateName\noutput: value"])
    S0 [label="S0\noutput: 0", shape=doublecircle, color=blue];
    S1 [label="S1\noutput: 0", shape=circle];
    S2 [label="S2\noutput: 0", shape=circle];
    S3 [label="S3\noutput: 1", shape=circle, color=red];  // Конечное состояние с выходом 1

    // Переходы (только входы, без выходов!)
    S0 -> S1 [label="0"];
    S0 -> S2 [label="1"];

    S1 -> S1 [label="0"];
    S1 -> S3 [label="1"];  // При входе "1" из S1 переходим в S3

    S2 -> S3 [label="0"];  // При входе "0" из S2 переходим в S3
    S2 -> S2 [label="1"];

    S3 -> S1 [label="0"];
    S3 -> S2 [label="1"];
}